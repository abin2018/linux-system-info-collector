## 功能

1. 本脚本主要用于获取Linux系统各项常见硬件和系统配置，具体如下：

| 英文名称           | 中文说明                                            |
| ------------------ | --------------------------------------------------- |
| sys_vendor         | 主机厂商                                            |
| product_name       | 主机型号                                            |
| server_type        | 主机类型(物理机、虚拟机、Docker)                    |
| kernel_version     | 内核版本信息                                        |
| os_info            | 操作系统(发行版)信息                                |
| cpu_info           | CPU相关(包括型号、个数、核数以及逻辑CPU数量)        |
| memory_info        | 内存大小                                            |
| net_interface_info | 网络信息(主机中以激活的网卡的信息)                  |
| disk_info          | 磁盘大小信息                                        |
| raid_info          | 主机(仅物理机)的RAID配置信息(目前仅支持LSI公司产品) |

## 一些优势

1. 尽可能解决不同Linux发行版的兼容性问题，尽量使用读取文件的形式来获取系统的信息，少使用命令，主程序部分使用shell脚本(bash)完成。

2. 解决一直困扰的容量单位问题，由于工业上和计算机体系中的进制转换的不同，导致在系统中获取信息后，难以转换成真实的大小，本工具借助与实际经验，编写了更符合实际的转换函数，尽最大可能还原真实的大小。

3. 标准输出支持json和表格两种输出，方便对数据做进一步的处理。

4. 如果在多台机器上做了SSH互信，则可支持多台系统并行获取信息，提高速度，默认进程数为5个，可进行调整。
## 不足 

1. 由于shell本身的特点和知识储备的不足，对于多进程之间的通信以及控制尚不完善。
2. 仍有部分信息的获取(主机类型和RAID)需要借助于命令和程序，待完善。

## 用法

1. 各文件说明

   .
   ├── log                                      -- 错误日志目录，每次执行会自动生成  
   ├── process_hosts_info.py    -- 处理输出结果的脚本  
   ├── README.md  
   ├── run.sh                                 -- 主入口文件  
   └── scripts                                 -- 所有脚本和文件所在的目录  
       ├── apps                                -- 收集RAID信息时需要借助的工具  
       │   └── MegaCli64
       ├── functions                        -- 所有功能函数的集合  
       │   ├── basic.sh                     -- 可以明确的，不依赖于发行版的一些信息，如硬盘、CPU等  
       │   ├── env.sh                        -- 一些变量的配置  
       │   ├── extend.sh                  -- 可能依赖于发行版的一些信息，如RAID、发行版本号等  
       │   ├── output.sh                  -- run.sh执行结果的输出，输出为json格式  
       │   └── tools.sh                     -- 一些如单位转换等的工具函数  
       └── run.sh                             -- 收集脚本的入口文件  

2. 用法

   由于一些信息如RAID，需要使用root用户去获取，所有尽量使用root执行

   切换到程序主目录

   sudo bash run.sh [-h] [host_file] [-f] [json/table]

   \# -h 指定host文件，即当设置了SSH互信时，可以批量获取，host文件格式为一行一个主机，如

   > 127.0.0.1
   >
   > 192.168.0.1

   \# -f 指定输出的格式，默认为table，即表格的形式，如果指定为json，则输出为json

​       **不加-h 参数时，默认为收集本机的信息**



